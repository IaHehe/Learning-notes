# HTTP知识点总结

## 概述

HTTP是一个客户端和服务器端请求和响应的标准TCP

HTTP协议，即超文本传输协议是用于服务器传输到客户端浏览器的传输协议。Web上，服务器和客户端利用HTTP协议进行通信会话。

![绘图1](http://www.bysocket.com/wp-content/uploads/2015/05/1_thumb1.png)



## 深入理解

HTTP是基于传输层的TCP协议，TCP协议是面向连接的端到端的协议。因此，使用HTTP协议传输前，首先建立TCP连接，就是TCP链接中的"三次握手",如图:

![绘图1](http://www.bysocket.com/wp-content/uploads/2015/05/1_thumb2.png)

在Web上，HTTP协议使用TCP协议而不是UDP协议的原因在于一个网页必须传送很多数据，而且保证其完整性。TCP协议提供传输控制，按顺序组织数据和错误纠正的一系列功能。

一次HTTP操作称为一个事务，其工作过程可分为四步:

1. 客户端与服务器需要建立连接
2. 建立连接后，发送请求
3. 服务器接到请求后，响应其响应信息
4. 客户端接收服务器所返回的信息通过浏览器显示在用户的显示屏上，然后客户机与服务器断开连接

![绘图1](http://www.bysocket.com/wp-content/uploads/2015/05/1_thumb3.png)





## 请求报文

> 请求行 通用信息头 请求头 实体头 (空行) 报文主体

详细解释如下:

1. 请求行：方法字段+URL+HTTP协议版本
2. 通用信息头：Cache-Control头域：指定请求和响应遵循的缓存机制，如: keep-alive是其连接持续有效
3. 请求头Host头域：Referer头域：允许客户端指定请求URL的资源地址；User-Agent头域：请求用户信息(可以看出一些客户端浏览器的内核信息)
4. 请求主体,包括请求参数



## 应答报文

> 状态行 通用信息头 响应头 实体头 (空行) 报文主体

详细解释如下:

1. 状态行：HTTP协议版本+状态码+状态代码的文本描述
2. 通用信息头**keep-alive**是其连接持续有效 Date头域：时间描述
3. 响应头  Server头：处理请求的原始服务器的软件信息
4. 实体头 Content-Type头：便是接收方实体的介质类型(表示报文主体)
5. 报文主体，也就是HTML响应界面 



## HTTP协议知识补充

请求报文相关:

请求行-请求方法:

+ GET	 请求获取Request-URI所标识的资源
+ POST 在Request-URI所标识的资源后附加新的数据
+ HEAD 在Request-URI所标识的资源的响应消息报头
+ PUT  请求服务器存储一个资源，并用Request-URI作为其标识
+ DELETE  请求服务器删除Request-URI所标识的资源
+ TRACE  请求服务器回送收到的请求信息，主要用于测试或诊断
+ CONNECT  保留将来使用
+ OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求



响应报文相关:

响应行-状态码：

+ 1xx：指示信息-表示请求已接收，继续处理
+ 2xx：成功-表示请求已被成功接收、理解、接收
+ 3xx：重定向-要完成请求必须进行更进一步的操作
+ 4xx：客户端错误-请求有语法错误或请求无法实现
+ 5xx：服务器端错误-服务器未能实现合法的请求

常见的状态码:

+ 200 OK 请求成功(其后是对GET和POST请求的应答文档)
+ 304 Not Modified 未按预期修改文档。客户端有缓冲的文档并发出了一个条件性的请求(一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档)。服务器告诉客户，原来缓冲的文档还可以继续使用。
+ 404 Not Found 服务器无法找到被请求的页面
+ 500 Internal Server Error 请求未完成  服务器遇到不可预知的情况



## 资料来源

http://www.bysocket.com/?p=282